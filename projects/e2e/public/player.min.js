!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.splayer=t()}(this,function(){"use strict";function e(){}function t(e,t){return function(){try{return e.apply(t,arguments)}catch(e){return null}}}function n(e,t){for(var n in t)e[n]=t[n];return e}function r(){var e=Pt.call(arguments),t=e.shift();return e.reduce(n,t)}function o(e){return Array.isArray(e)?e.slice(0):e.split(".")}function i(e,t,n){for(t=o(t);t.length;){if(void 0===e)return n;e=e[t.shift()]}return void 0===e?n:e}function a(e,t,n){t=o(t);var r=t.pop(),a=i(e,t);return a&&(a[r]=n),e}function u(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.onreadystatechange=function(){var e=r.status;e>=400&&n&&n(e),200==e&&4==r.readyState&&t(r.responseText)},r.send()}function s(e){return e=parseInt(e,10),e>=10?e:"0"+e}function l(e){if(isNaN(e))return"";var t=e<0?"-":"";e=Math.abs(e);var n=Math.floor(e/3600),r=Math.floor(e/60);return e-=60*r,n>=1?(r-=60*n,t+n+":"+s(r)+":"+s(e)):t+s(r)+":"+s(e)}function c(e){return Pt.call(e)}function f(e){var t={val:e};return function(e){return void 0!==e&&(t.val=e),t.val}}function d(e){return"string"!=typeof e?e:isNaN(e)?"false"!=e&&("true"==e||e):Number(e)}function p(e){var t=document.createEvent("Event");return t.initEvent(e,!1,!0),t}function m(e){return e.emit=function(t,r){var o=p(t);return r&&n(o,{data:r||{}}),e.dispatchEvent(o),e},e.on=function(t,n){return"string"==typeof t&&(t=t.split(" ")),t.forEach(function(t){e.addEventListener(t,n)}),e},e.off=function(t,n){return e.removeEventListener(t,n),e},e.one=e.once=function(t,n){function r(o){e.off(t,r),n(o)}return e.on(t,r)},e}function v(e,t,n){var r=g(document.createElement(e));if(Vt(t)&&(n=t,t=!1),Vt(n)||(n=[n]),r.append(n.filter(function(e){return e})),"object"!=typeof t)return r;for(var o in t)o in r?r[o]=t[o]:r.setAttribute(o,t[o]);return r}function E(e){var t=e.tagName;e.find=function(t){var n=e.querySelector(t);return n?g(n):n},e.html=function(t){return e.innerHTML=t,e},e.empty=function(){return e.innerHTML=Gt,e},e.offset=function(){var t={top:0,left:0},n=e;do{t.left+=n.offsetLeft||0,t.top+=n.offsetTop||0}while(n=n.offsetParent);return t},e.innerWidth=function(){var t=getComputedStyle(e);return e.clientWidth-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)};var n=e.insert=function(t,n){return Vt(n)?n.map(function(n){return e.insert(t,n)})[0]:("string"==typeof n?n=e.insertAdjacentHTML(t,n):e.appendChild(n),g(n))};return e.append=n.bind(e,"beforeend"),e.prepend=n.bind(e,"afterbegin"),e.css=function(t,n){if("object"==typeof t){for(var r in t)e.css(r,t[r]);return e}return void 0===n?getComputedStyle(e)[t]:(1*n&&(n+="px"),e.style[t]=n,e)},e.show=function(){return e.css({display:~Wt.indexOf(t)?"inline":"block"})},e.hide=function(){return e.css({display:"none"})},e.remove=function(){var t=e.parentNode;t&&t.removeChild(e)},e.attr=function(t,n){return void 0==n?e.getAttribute(t):(e.setAttribute(t,n),e)},e.txt=function(t){return e.textContent=t,e},e.sp=function(t){return e.addClass("sp-"+t)},e.addClass=function(t){return t.split(Ft).forEach(function(t){e.hasClass(t)||(e.className+=(e.className?Ft:Gt)+t)}),e},e.removeClass=function(t){t=t.split(Ft);var n=e.className.split(Ft);return e.className=n.filter(function(e){return!~t.indexOf(e)}).join(" "),e},e.toggleClass=function(t,n){return void 0===n&&(n=!e.hasClass(t)),n?e.addClass(t):e.removeClass(t)},e.findAll=function(t){return c(e.querySelectorAll(t))},e.hasClass=function(t){return~e.className.split(Ft).indexOf(t)},e}function g(e){return void 0===e?e:e&&e.on&&"function"==typeof e.on?e:E(m(e))}function h(e,t){if("string"==typeof e&&"<"==e[0])return v(e.slice(1,-1),t);if("string"!=typeof e)return g(e);var n=t instanceof HTMLElement&&t.querySelector(".sp-"+e)||document.querySelector(e);return n?g(n):void 0}function y(){return qt.filter(function(e){return!e.paused})}function _(e,t){try{var n=t.exec(e)[1];return parseFloat(n,10)}catch(e){return console.error(e),0}}function A(){var e="undefined"!=typeof document&&"undefined"!=typeof window,t=e?navigator.userAgent:"",n=/iP(hone|od)/i.test(t)&&!/iPad/.test(t)&&!/IEMobile/i.test(t),r=/Android/.test(t)&&!/Firefox/.test(t),o=/IEMobile/.test(t),i=o?_(t,/Windows Phone (\d+\.\d+)/):0,a=o?_(t,/IEMobile\/(\d+\.\d+)/):0,u=function(){if(!e)return!1;if(document.documentMode)return document.documentMode;for(var t=9;t>3;t--){var n=document.createElement("div");if(n.innerHTML="\x3c!--[if IE "+t+"]><span></span><![endif]--\x3e",n.getElementsByTagName("span").length)return t}return!1}();return{controls:!n&&(!o||i>=8.1&&a>=11),video:function(t){return e&&document.createElement("video").canPlayType(t)},lang:e&&(window.navigator.userLanguage||window.navigator.language),android:r,iphone:n,ie:u,ios:e&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}}function w(e,t,n,r){r&&e.addClass(Bt.TOGGLING),e.removeClass(n),e.addClass(t),r&&setTimeout(function(){e.removeClass(Bt.TOGGLING)},r)}function C(e,t,n){var r=!0;t.addClass("splayer"),n.on([zt.LOAD_START,zt.RESIZE],function(){var e=t.clientWidth;t.toggleClass(Bt.SMALL,e<600).toggleClass(Bt.TINY,e<400)}),n.on(zt.CONFIG,function(){var r=n.paused&&!e.autoplay;[Bt.LOADING,Bt.STARTING].forEach(function(e){t.toggleClass(e,r)})}),n.on(zt.ENDED,function(r){setTimeout(function(){r.defaultPrevented||(e.rewind&&(t.addClass(Bt.SEEKING),n.one(zt.SEEKED,function(){t.removeClass(Bt.SEEKING),e.loop||n.pause()}),n.currentTime=0,e.poster&&n.hide()),n.one(zt.TIME_UPDATE,function(){t.removeClass(Bt.ENDED)}),w(t,Bt.ENDED,Bt.PLAYING,e.loop||e.rewind?0:300))},0)}),n.on([zt.SEEKING,zt.SEEKED],function(e){t.toggleClass(Bt.SEEKING,e.type==zt.SEEKING)}),n.on(zt.ENDED,function(){r=!0}),n.on(A().ios?zt.METADATA:zt.DATA,function(n){var r="src"!=n.type||!("none"==e.preload);t.toggleClass(Bt.LOADED,r),t.toggleClass(Bt.LOADING,!r)}),n.on([zt.WAITING,zt.CAN_PLAY,zt.LOAD_START],function(r){if(!t.hasClass(Bt.SEEKING)&&(r.type==zt.CAN_PLAY&&n.removeClass(Bt.WAITING),r.type!=zt.LOAD_START||"none"!=e.preload||e.autoplay)){[Bt.PLAYING,Bt.PAUSED].forEach(t.toggleClass),t.removeClass(Bt.ENDED);var o=[zt.WAITING];t.toggleClass(Bt.WAITING,o.indexOf(r.type)>-1)}}),n.on([zt.PLAYING,zt.PAUSE],function(o){var i=o.type==zt.PLAYING,a=n.currentTime==n.duration,u=i&&r&&e.autoplay,s=u||t.hasClass(Bt.SEAMLESS)||t.hasClass(Bt.WAITING);if(i&&(n.started=!0,n.show()),!e.seamless&&r&&t.removeClass(Bt.SEAMLESS),i&&(r=!1),t.removeClass(Bt.WAITING).removeClass(Bt.STARTING),!a&&!t.hasClass(Bt.SEEKING)){r&&t.removeClass(Bt.STARTING);var l=i?Bt.PLAYING:Bt.PAUSED,c=i?Bt.PAUSED:Bt.PLAYING;w(t,l,c,s?0:300),i&&n.show()}})}function S(e){if("number"==typeof e&&!isNaN(e))return Number(e);if("string"==typeof e){var t=e.split(":");return Number(t[1])/Number(t[0])}return e}function N(e,t,n){var r={class:"sp-ratio"},o=h.div(r);o.set=function(e){e=S(e||Xt),o.css("padding-top",isNaN(e)?e:100*e+"%")},t.reaper.put("aspect_ratio",o),t.append(o),n.on(zt.METADATA,function(){o.set(e.ratio||n.videoHeight&&n.videoWidth&&n.videoHeight/n.videoWidth)}),n.on(zt.CONFIG,function(e){o.set(i(e,"data.ratio",n.videoHeight&&n.videoWidth&&n.videoHeight/n.videoWidth))})}function T(e){var t=e.getBoundingClientRect(),n=window.innerHeight,r=t.height,o=t.bottom,i=r/5;return t.top<=i&&t.top+r>n-i||o-r+i>=0&&o<n+i}function I(e){var t=T(e.root);return e.in_viewport===t?e:(e.in_viewport=t,e.emit(t?zt.VIEW_ENTER:zt.VIEW_LEAVE),e)}function L(e,t,n){I(n).on(zt.VIEW_LEAVE,n.pause),n.on([zt.CAN_PLAY,zt.VIEW_ENTER],function(t){if(e.autoplay&&!y().size)return n.in_viewport&&n.paused&&!n._play_toggled?n.togglePlay(!0):void 0})}function b(){return Jt.filter(function(e){return"function"==typeof e.wants})}function O(e){return Array.isArray(e)?e.join("."):e}function R(e,t){return t.length-e.length}function M(e){if(void 0!==e){if(e.reaper)return e.reaper;if(!(this instanceof M))return new M(e);var t=e.reaper=this;return t.tree=e,t.props=[],t.push=function(e){return t.props=t.props.concat(e),t},t.put=function(n,r){return t.push(n),a(e,n,r),r},t.run=function(n){n=Array.isArray(n)?n:[],n.push(t);for(var r=t.props.map(O).sort(R);r.length;){var o=r.shift(),u=i(e,o);u&&u.reaper&&!~n.indexOf(u.reaper)&&u.reaper.run(n),a(e,o,0)}for(var s in t)delete t[s];delete n[n.indexOf(t)],e.reaper=0},t}}function k(e,t){t.multiplay||qt.forEach(function(t){e!=t&&(t.toggleFullScreen(!1),t.pause())})}function D(e){var t=e.root;t.removeClass(Bt.AUTOPLAY),t.removeClass(Bt.WAITING),t.addClass(Bt.NO_AUTOPLAY)}function x(e,t,n){var r=n.muted;return e.catch(function(e){if(t.paused)return"AbortError"==e.name&&20==e.code?D(t):(n.muted=!0,t.toggleMute(!0),t.volume=0,t.play())}).then(function(){k(t,n)}).catch(function(e){if(n.autoplay=!1,n.muted=r,t.toggleMute(!1),!t.started)return D(t);console.error(e),t.emit(zt.ERROR,e)})}function P(e,t,n){"boolean"!=typeof n&&(n=e.paused);try{var r=n?e.play():e.pause();if(r&&"function"==typeof r.catch)return x(r,e,t);e.paused&&n&&0==e.currentTime&&D(e),k(e,t)}catch(t){e.emit(zt.ERROR,t)}}function U(e){var t=e.split("/").slice(-1)[0].split(".")[1];return t&&t.split("?")[0]}function G(e){switch(e){case"video/m3u8":return"application/x-mpegurl";default:return e}}function F(e){var t=e.split("{"),n=t[1];if(!n){return[{src:e,type:G("video/"+U(e))}]}return n.slice(0,-1).split(",").map(function(e){return{src:t[0]+e,type:G("video/"+e)}})}function V(e){var t=Array(e.length),n=0;if(0==e.length)return t;for(;n<e.length;)t[n]=[e.start(n),e.end(n)],n++;return t}function Y(e,t,r){r.toJSON=function(){return{duration:r.duration,volume:r.volume,currentTime:r.currentTime,buffered:V(r.buffered),played:V(r.played),states:r.root.className}},r.setSrc=function(n){return"string"==typeof n&&(n=F(n)),"function"!=typeof n.forEach&&(n=[n]),r.currentSrc&&(r.innerHTML=""),n.forEach(function(o,i){"string"==typeof o&&(o={src:o}),r.emit(zt.SOURCE,{src:o.src});var a=b().filter(function(t){return t.wants(o.src,o,e)});if(a.length){if(!1!==a.pop().call(r,e,t,r,o))return}r.append(h("<source>",o)).on(zt.ERROR,function(e){if(e.target.remove(),!(i<n.length-1)){var t=r.canPlayType(o.type)?4:5,a=o.src;r.emit(zt.ERROR,{message:4==t?"Video not found: "+a:(o.type||a)+" is not supported",videoType:o.type,code:t,src:a})}})}),r.currentSrc&&r.load(),"none"==e.preload&&r.render(),r},r.render=function(){return r.emit(A().ios?zt.METADATA:zt.DATA),r.emit(zt.CAN_PLAY),r},r.togglePlay=function(t,n){var o=P(r,e,t);return"function"!=typeof n?o:"catch"in o?o.then(n):n()},r.toggleMute=function(e){"boolean"!=typeof e&&(e=!r.disabled),r.muted=!r.muted,r.muted||r.volume||(r.volume=.5),r.emit(zt.VOLUME_CHANGE)},r.toggleDisable=function(e){"boolean"!=typeof e&&(e=!r.disabled),t.toggleClass(Bt.DISABLED,e),r.disabled=e},r.destroy=function(e){r.pause();var n=qt.indexOf(r);~n&&qt.splice(n,1),t.emit(zt.REAP),setTimeout(function(){r.setSrc([]),"function"==typeof e&&e()},0)},r.setAttrs=function(e){Zt.forEach(function(t){var n=d(e[t]);if(n)return r.attr(t,n),void(t in r&&(r[t]=n));!1===n&&(r.removeAttribute(t),t in r&&(r[t]=n))})},r.setOpts=function(o){n(e,o),t.toggleClass(Bt.AUTOPLAY,!!e.autoplay),t.toggleClass(Bt.RTL,!!e.rtl),t.toggleClass(Bt.LIVE,!!e.live),t.toggleClass(Bt.NO_DVR,!(!e.live||e.dvr)),t.toggleClass(Bt.SEAMLESS,!(!e.seamless&&!e.autoplay)),e.poster&&(t.css("background-image","url("+e.poster+")"),r.paused&&r.hide()),r.emit(zt.CONFIG,e)}}function K(e,t){var n=t.querySelector("video"),r=h(n||document.createElement("video"));return r.addClass("sp-engine"),M(r),r.async=void 0!==n,r.async&&!r.paused?(t.addClass(Bt.PLAYING).addClass(Bt.SEAMLESS),r):(r.attr("playsinline",""),r.attr("webkit-playsinline",""),t.append(r),r)}function W(){if("undefined"==typeof document)return!1;var e=document.documentElement;return e&&"rtl"==e.getAttribute("dir")||!1}function H(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}}function q(e){try{return Q.validate(e),{success:!0}}catch(e){return j(e.message)}}function j(e){return{success:!1,message:e}}function z(e,t){return!!~$t.indexOf(e)||e.indexOf(t)===e.length-t.length}function B(e){this.message=e}function X(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new B("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,o=0,i=0,a="";r=t.charAt(i++);~r&&(n=o%4?64*n+r:r,o++%4)?a+=String.fromCharCode(255&n>>(-2*o&6)):0)r=en.indexOf(r);return a}function J(e){return decodeURIComponent(tn(e).replace(/(.)/g,function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function Z(e){this.message=e}function Q(e,t){var n={},r=this;t=t||{};try{n=rn(e),r.valid_jwt=!0}catch(e){}r.raw=e,r.data=JSON.parse(n.c||"{}"),r.exp=n.exp,t.require_valid_token&&Q.validate(r)}function $(e,t){if("function"!=typeof e){"string"==typeof t&&(t={src:t}),t=n({rtl:W(),controls:!0,preload:"none"},t);var r=h(e);if(!r)return console.error(new Error("Splayer: '"+e.toString()+"' not found"));if(r.video)return r.video;var o=q(t.token);if(!o.success)return ee(r,null,{reason:"token",details:o.message});var i=M(r);if(r.once(zt.REAP,i.run),A().ie>0&&r.addClass("poor-flex"),!A().video)return r.append(h.img({src:t.poster}));var a=i.put("video",K(t,r));i.put("video.root",r),!~qt.indexOf(a)&&qt.push(a),Y(t,r,a),a.setAttrs(t),Jt.forEach(function(e){e.call($,t,r,a)}),a.reaper.put("opts",t),a.setOpts(t),t.src&&a.setSrc(t.src);var u=a.readyState;return u>0&&a.currentSrc&&a.emit(zt.METADATA),u>2&&a.currentSrc&&a.emit(zt.CAN_PLAY),"none"==t.preload&&a.paused&&a.currentSrc&&a.render(),a.emit(zt.MOUNT),a.on(zt.NON_RECOVERABLE_ERROR,function(e){ee(r,a,e.data)}),a}for(var s=0;s<arguments.length;++s)Jt.push(arguments[s])}function ee(e,t,n){t&&t.destroy(),e.innerHTML="",e.removeClass("splayer"),e.addClass("splayer-fatal"),e.append(h.el("h2",{},"Playback error")),e.append(h.p({},"Are you the site owner?")),e.append(h.a({className:"troubleshoot",target:"_blank",href:"https://splayer.com/help/developers/troubleshooting?reason="+n.reason},"Troubleshoot")),e.append(h.a({},h.img({src:"https://splayer.com/user/pages/images/logo-white.png"}))),console.error(new Error(n.details||n.reason))}function te(e){for(var t,n=0;n<16;n++)0==(3&n)&&(t=4294967296*Math.random()),e[n]=t>>>((3&n)<<3)&255;return e}function ne(e){return[e.type,e.platform].reduce(function(e,t,n){return t?0==n?e+t:e+","+t:e},"")}function re(){var t=arguments[0],n=arguments[1];return function(r){try{if(!r.siteGroupId)throw new Error("no siteGroupId found");var o=new XMLHttpRequest,i=JSON.stringify(r),a=["https://ptm.splayer.com",t,r.siteGroupId,n].join("/");o.timeout=2500,o.open("POST",a,!0),o.setRequestHeader("Content-Type","application/json charset=UTF-8"),o.send(i),o.onloadend=o.ontimeout=e}catch(e){console.error(e)}}}function oe(e,t,n){if(!(this instanceof oe))return new oe(e,t,n);var r=this;return r.name=e.name||"Tick::anonymous::"+Date.now(),r.locked=!1,r.ttl=t,r.unlock=function(){return r.locked=!1,r},r.run=function(){r.locked||(r.locked=setTimeout(function(){return e.apply(null,n),r.unlock()},t))},r.cancel=function(){return r.locked&&clearTimeout(r.locked),r.unlock()},r}function ie(e){if(!(this instanceof ie))return new ie(e);var t=this;t.grant=e,t.is_granted=function(e){return(t.grant&e)===e}}function ae(e,t){var n=Math.floor(e.currentTime/t.segment_duration);if(n<t.from())return t.from(n);var r={position:t.segments.slice(t.from(),n).map(function(e){return t.segments.indexOf(e)})};return t.from(n),r}function ue(e){var t=e/En;return[t,Array.apply(null,Array(En)).map(function(e,n){return Math.floor(n*t*1e3)/1e3})]}function se(e,t,n){var o=ae(e,t);o.position.length&&n.ping(pe(un,r({},t.payload,o)))}function le(e,t,n){n.ping(pe(un,r({},t.payload,{position:e})))}function ce(e,t,n){var r=oe(se,6*gn,[e,t,n]);t.from=f(0),e.once(zt.METADATA,function(){var n=ue(e.duration);t.segments=n.pop(),t.segment_duration=n.shift(),e.duration>hn&&(r.ttl=t.segment_duration),e.on(zt.TIME_UPDATE,r.run)}),e.on(zt.SEEKED,function(){ae(e,t)},500),e.on(zt.ENDED,function(){r.cancel(),se(e,t,n)})}function fe(e,t,n){var r=e+t.right,o=e-t.left;return n<r&&n>o}function de(e,t,n){t.from=f(0),e.on(zt.TIME_UPDATE,function(){var r=e.currentTime,o=t.from()+60;fe(o,_n,r)&&(le(o,t,n),t.from(o))})}function pe(e,t){return e.reduce(function(e,n){return e[n]=t[n],e},{})}function me(e,t,r){if(ie.from_token(e.token).is_granted(ie.permissions.ANALYTICS)){var o={};o.payload={playerVersion:"1.2.4",created:(new Date).toISOString(),sessionId:cn,deviceInfo:mn,source:encodeURI(document.location.href.replace(document.location.protocol+"//",""))},r.on(zt.CONFIG,function(t){var a=i(t,"data.metadata",!1);a&&a.siteGroupId&&(a.category=a.category_id,a.playerId=a.player_id,n(o.payload,a),An(e,o,r))})}}function ve(e){window.matchMedia("(orientation: "+e+")").addListener(function(t){qt.length&&qt.forEach(function(n){t.matches&&n.emit(e)})})}function Ee(e,t,n){(A().ios||A().android)&&n.on([wn,Cn],function(r){e.multiplay||0==e.auto_orient||n.paused||(n.toggleFullScreen(r.type==wn),window.getComputedStyle(t))})}function ge(e,t,n){"undefined"!=typeof window&&"ontouchstart"in window&&t.addClass(Tn);var r;t.middle.on(Sn,function(e){e.preventDefault(),n.emit(e.type,e.data)}),n.on(Sn,function(e){setTimeout(function(){if(!e.defaultPrevented){if(n.ended)return n.togglePlay(!0);var o=t.hasClass(Bt.STARTING);r&&clearTimeout(r),(o||t.hasClass(Nn))&&(t.hasClass(Nn)&&(t.removeClass(Nn),t.removeClass("is-hovered")),n.togglePlay(),o)||(t.addClass(Nn),n.paused||(r=setTimeout(function(){r=0,t.removeClass(Nn),t.removeClass("is-hovered")},2e3)))}},0)})}function he(e,t,n){[Ee,ge].forEach(function(r){r(e,t,n)})}function ye(t,n){function r(){a=t.offset().left,u=t.clientWidth}function o(e){u||r();var t=e.pageX-a;return t>u&&(t=u),t<0&&(t=0),Math.round(t/u*100)}function i(e){var n=o(e);n!=s&&(l.call(p,n,t),s=n)}var a,u,s;if("grabbing"in t)return t;t.grabbing=!1;var l=n.onseek||e,c=n.onstart||e,f=n.onend||e,d=n.onmouse||e,p=n.ctx;return t.on(zt.MOUSE_DOWN,function(e){In.on(zt.MOUSE_MOVE,i),t.grabbing=!0,c.call(p,t),e.preventDefault(),i(e)}),t.on(zt.MOUSE_MOVE,function(e){d.call(p,o(e),t)}),In.on(zt.MOUSE_UP,function(){In.off(zt.MOUSE_MOVE,i),t.grabbing=!1,f.call(p,t),u=0}),t}function _e(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Ae(e){var t=_e("svg");return t.setAttribute("viewBox",e.coords),e.name&&t.setAttribute("class",e.name),t.appendChild(we(e.link)),h(t)}function we(e){var t=_e("use");return t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e),t}function Ce(e){if("undefined"!=typeof DOMParser){var t=(new DOMParser).parseFromString(e,"image/svg+xml"),n=document.importNode(t.documentElement,!0);n.style.display="none",document.body.appendChild(n)}}function Se(){return h.div("sp-volume")}function Ne(e,t,n){if(e.controls){var r=Se(),o=Ie.call(n,r,Te,e.rtl,n.root),i=h.div("sp-volumebtn",Ae(Un));if(t.append(i),.1==Yn.volume&&t.append(r),e.muted_initially&&Ln.setItem(Wn,1==e.muted_initially),i&&i.on(zt.CLICK,n.toggleMute),n.on(zt.VOLUME_CHANGE,function(){var e=0==n.volume||n.muted;if(n.root.toggleClass(Bt.MUTED,e),Ln.setItem(Wn,e),e)return o.adjust(0);o.grabbing||o.adjust(n.volume)}),"true"==Ln.getItem(Wn)&&(n.muted=!0,n.root.toggleClass(Bt.MUTED,n.muted)),e.muted_initially)return n.volume=0,n.one(zt.PAUSE,function(){n.volume=1*(Ln.getItem(Kn)||.5),n.play()}),o;var a=Ln.getItem(Kn);return"string"==typeof a&&(n.volume=1*a),n.emit(zt.VOLUME_CHANGE),o}}function Te(e,t){e>0&&(this.muted=!1,Ln.removeItem(Wn)),Ln.setItem(Kn,this.volume=e/100),t.adjust(this.volume)}function Ie(e,t,n,r){var o=10;return e.empty(),r.hasClass("is-small")&&(o=8),r.hasClass("is-tiny")&&(o=6),ye(e,{onseek:t,ctx:this}),be(e,o,n),e}function Le(){return h.i("sp-tick")}function be(e,t,n){var r=Array.apply(null,Array(t)).map(Le);return e.append(r),e.adjust=function(e){e*=100;var o=(n?100-e:e)/100,i=Math.round(o*t);r.slice(i,t).forEach(Le.off),r.slice(0,i).forEach(Le.on)},e}function Oe(e,t,n){n.toggleFullScreen=function(r){"boolean"!=typeof r&&(r=!n.in_fullscreen),r!=n.in_fullscreen&&(n.in_fullscreen=r,n.emit(r?zt.FULLSCREEN_ENTER:zt.FULLSCREEN_EXIT),n.emit(zt.RESIZE),h.document.fullscreenEnabled&&!e.fake_fullscreen&&(r?t.requestFullScreen():h.document.exitFullScreen()))},n.on([zt.FULLSCREEN_EXIT,zt.FULLSCREEN_ENTER],function(e){var r=e.type==zt.FULLSCREEN_ENTER;n.in_fullscreen=r,t.toggleClass(Bt.FULLSCREEN,r)}),!1!==e.dblclickable&&t.on(zt.DBL_CLICK,function(e){e.target==t.ui&&n.toggleFullScreen()})}function Re(e,t){var n=h.div("sp-secondary").addClass("sp-togglable"),r=Ae(bn),o=Ae(On);return Oe(e,t.root,t),r.on(zt.CLICK,t.toggleFullScreen),o.on(zt.CLICK,t.toggleFullScreen),n.append([r,o]),n}function Me(e,t,n){if(t){e.empty();var r=h.img({class:"sp-logo",src:t});if(n){var o=h.a({href:n});o.append(r),r=o}e.append(r)}}function ke(e,t){if(!t)return e.empty();e.txt(l(t))}function De(e,t,n){var r=h.div("sp-header"),o=h.div("sp-primary"),a=h.div("sp-duration"),u=Re(e,n);n.on(zt.CONFIG,function(e){ke(a,i(e,"data.duration")),Me(o,i(e,"data.logo"),i(e,"data.logo_href"))}),r.append([o,a,u]),t.append(r)}function xe(e,t){e.on([zt.CLICK,zt.DBL_CLICK],function(e){return e.preventDefault(),t.emit(e.type,e.data),!1}),t.on(zt.CLICK,function(e){setTimeout(function(){e.defaultPrevented||(t._play_toggled=!0,t.togglePlay())},0)}),t.on(zt.DBL_CLICK,function(e){setTimeout(function(){e.defaultPrevented||t.toggleFullScreen()},0)})}function Pe(e){for(var t=h.div("sp-wait"),n=0;n<4;n++)t.append(h("<b>"));return e.append(t)}function Ue(e,t,n){var r=h.div("sp-middle");return n.root.reaper.put("middle",r),xe(r,n),Pe(r),e.mouseover_play&&n.root.on([zt.MOUSE_ENTER,zt.MOUSE_LEAVE],function(e){n.togglePlay("mouseenter"==e.type)}),Hn.forEach(function(e){r.append(h.div("sp-switch",[Vn["PLAY_"+e],Vn["PAUSE_"+e]].map(Ae)).addClass("sp-play-"+e))}),t.append(r),r}function Ge(e,t){var n=t||60,r=Math.ceil(1e3/n),o=0,i=null;return function(){var t=Date.now()-o;null===i&&(i=qn(function(){i=null,e.apply(this,arguments),o=Date.now()},r-t))}}function Fe(e,t,n,r){"function"==typeof n&&(r=n,n=void 0),n="string"==typeof n?" "+n:"",r=r||jn;var o=Ve(t);return e.put(t,r(o+n))}function Ve(e){return"sp-"+e}function Ye(e){var t=jn("sp-controls sp-togglable"),n=M(t),r=Fe(n,"timeline",Ve("bar")),o=Fe(n,"btns",Ve("small-switch")),i=Fe(n,"live-status").txt("live"),a=Fe(n,"buffer"),u=Fe(n,"progress",Ve("color")),s=Fe(n,"hover"),c=Fe(n,"timestamp"),f=Fe(n,"duration"),d=Fe(n,"elapsed",zn).txt(l(0)),p=Fe(n,"dragger",Ve("color"));return r.append([a,u,s,c]),t.append([o,i,d,r,f]),M(t),o.append([Ae(Fn),Ae(Gn)]),u.append(p),e.append(t),t}function Ke(e,t){var n=e.innerWidth()/e.parentElement.innerWidth()*100/2;e.css("left",t-n+"%").show()}function We(e,t,n){if(!isNaN(t.duration)){var r=t.buffered||{};r.length&&n.buffer.css("width",Math.min(r.end(0)/t.duration*100,100)+"%")}}function He(e,t,n){}function qe(e,t,n){t.duration&&n.duration.txt(l(t.duration))}function je(e,t,n){n.elapsed.txt(l(t.currentTime))}function ze(e,t,n){n.progress.css("width",t.currentTime/t.duration*100+"%")}function Be(e,t,n){n.hover.css("width",e.percent+"%")}function Xe(e,t,n){n.timestamp.show()}function Je(e,t,n){n.progress.css("width",e.percent+"%"),t.currentTime=t.duration*(e.percent/100)}function Ze(e,t,n){}function Qe(){}function $e(e,t,n){n.timestamp.show()}function et(e,t,n){n.hover.css("width",0),n.timestamp.hide()}function tt(e,t,n){var r=e.percent,o=n.timestamp;!o||isNaN(r)||isNaN(t.duration)||(Ke(n.timestamp,r),o.txt(l(r/100*t.duration)))}function nt(e){return 100-e}function rt(e){try{return e.buffered.end(e.buffered.length-1)}catch(t){return console.error(t),e.duration}}function ot(e,t){if(0==t)return!0;var n=e.buffered,r=n.length-1;if(r<0)return!1;try{return n.end(r)-n.start(r)>t}catch(e){return console.error(e),!1}}function it(e){try{return e.buffered.start(e.buffered.length-1)}catch(e){return console.error(e),0}}function at(e){return{head:rt(e)-Xn,tail:it(e)}}function ut(e){try{return e.currentTime-it(e)}catch(t){return console.error(t),e.currentTime}}function st(e){return e.currentTime-(ct(e,e.dvr_offset||0)+Xn)}function lt(e){var t=Date.now();return Math.round((t-(e.stream_start||t))/1e3)}function ct(e,t){var n=at(e),r=t/100*n.head;return n.head-r}function ft(e,t,n){}function dt(e,t,n){if(t.stream_start=t.stream_start||Date.now(),!(t.currentTime<=0)){var r=t.dvr_offset>0?"-"+l(ct(t,t.dvr_offset)):l(lt(t));n.duration.txt(r)}}function pt(e,t,n){}function mt(e,t,n){}function vt(e,t,n){var r=ct(t,e.percent);n.timestamp.txt(l(r)),Ke(n.timestamp,e.percent)}function Et(e,t,n){try{t.dvr_offset=0,t.currentTime=rt(t)-Xn,t.root.removeClass(Bt.LIVE_SEEKED),n.progress.css("width",0)}catch(e){}}function gt(e,t,n){}function ht(e,t,n){}function yt(e,t,n){t.dvr_offset=0,n.progress.css("width",0),t.root.removeClass(Bt.LIVE_SEEKED)}function _t(e,t,n){t.dvr_offset=e.percent;var r=nt(t.dvr_offset);n.progress.css("width",r+"%"),t.root.toggleClass(Bt.LIVE_SEEKED,r>0);var o=at(t);t.currentTime=o.head*(t.dvr_offset/100)}function At(e,t,n){}function wt(e,t,n){n.hover.css("width",nt(e.percent)+"%")}function Ct(e,t,n){n.hover.css("width",0),n.timestamp.hide()}function St(e){if(!(this instanceof St))return new St(e);this.route=function(t,n){var r=Zn[t]||{},o=r[n.type];if(o)return o.apply(n.currentTarget,[n].concat(e));throw new Error("could not handle routed event of type ("+t+":"+n.type+")")}}function Nt(e,t,n){function r(e){return void 0===e.opts.live?e.duration===1/0:e.opts.live}if(e.controls){~t.className.indexOf(Qn)||t.addClass(Qn+(e.play||1));var o=Ye(t.ui);t.reaper.put("timeline",o.timeline),t.reaper.put("controls",o);var a=St([n,o]);o.btns.on(zt.CLICK,n.togglePlay),o["live-status"].on(zt.CLICK,function(){a.route("live",{type:"seek_to_now"})}),n.on(zt.CONFIG,function(e){var t=i(e,"data.duration");isNaN(t)||o.duration.txt(l(t))});var u=Ge(function(){if(0!=n.reaper){var t=o.timeline;a.route(Tt(e),{type:"timeline_repaint"}),n.paused||t&&t.grabbing||requestAnimationFrame(u)}},60);n.on(zt.PLAYING,u),n.paused||u(n,o.timeline),n.on(zt.TIME_UPDATE,function(t){if(0!=n.reaper){var r=Tt(e);a.route(r,t),a.route(r,{type:"buffer_update"})}}),n.on(zt.PROGRESS,function(t){if(0!=n.reaper){var r=Tt(e);e.live&&!e.dvr&&ot(n,e.seconds_to_dvr||60)&&n.setOpts({dvr:!0}),a.route(r,t),a.route(r,{type:"buffer_update"})}}),n.on(zt.METADATA,function(t){n.stream_start||n.setOpts({live:r(n)});var o=Tt(e);a.route(o,t),a.route(o,{type:"buffer_update"})}),n.on(zt.DURATION_CHANGE,function(){n.setOpts({live:r(n),duration:n.duration})}),n.on(zt.RECOVER,function(t){var n=Tt(e);a.route(n,t)}),ye(o.timeline,{onseek:It(n,function(t){var n=Tt(e);a.route(n,{type:"timeline_grab_moved",percent:t}),a.route(n,{type:"tooltip_update",percent:t})}),onstart:It(n,function(){t.addClass(Bt.SEEKING),a.route(Tt(e),{type:"timeline_grab_start"})}),onend:function(){if(n.disabled)return u();t.removeClass(Bt.SEEKING),a.route(Tt(e),{type:"timeline_grab_end"}),u()},onmouse:It(n,function(t){if(!o.timeline.grabbing){var n=Tt(e);a.route(n,{type:"timeline_mouse_move",percent:t}),a.route(n,{type:"tooltip_update",percent:t})}})}).on(zt.MOUSE_LEAVE,function(){a.route(Tt(e),{type:"timeline_mouse_leave"})})}}function Tt(e){return e.live?"live":"vod"}function It(e,t){return function(){isNaN(e.duration)||e.disabled||t.apply(null,arguments)}}function Lt(e,t,n){if(e){var r=h.div("sp-error").txt(t);e.append(r),n&&r.append(h.div("sp-error-details").txt(n))}}function bt(t,n,r){r.on(zt.ERROR,function(t){var o=t.data||{},i=r.togglePlay,a=t.code||o.code;if(console.error(o),"AbortError"!=o.name){n.addClass(Bt.ERRORED),8!=a&&(r.togglePlay=e,r.one(zt.RECOVER,function(){r.togglePlay=i,r.removeClass(Bt.ERRORED)})),!1===(navigator||{}).onLine&&(o.code=2,o.message="Not connected to internet");var u=o.message||o.stack||"an error occurred";return Lt(n.ui,u,o.details)}})}function Ot(e,t,n){var r=t.append(h.div({class:"sp-footer"}));n.on(zt.CONFIG,function(e){var t=e.data,n=t.description,o=t.title;r.empty(),"string"==typeof o&&r.append(h.div({class:"sp-title"}).txt(t.title)),"string"==typeof n&&r.append(h.div({class:"sp-desc"}).txt(t.description))})}function Rt(e,t,n){var r=document.createDocumentFragment(),o=h.div("sp-ui");r.appendChild(o),t.reaper.put("ui",o),Ot(e,t,n),De(e,o,n),Ue(e,o,n),Nt(e,t,n),Ne(e,t.controls,n),bt(e,t,n),t.appendChild(r),t.on([zt.MOUSE_ENTER,zt.MOUSE_LEAVE],function(e){t.toggleClass("is-hovered",e.type==zt.MOUSE_ENTER)});var i=!1;o.on(zt.MOUSE_MOVE,function(){"number"==typeof i&&clearTimeout(i),t.addClass("is-hovered"),i=0==n.paused&&setTimeout(function(){t.removeClass("is-hovered")},2e3)})}function Mt(e,t,n){setTimeout(function(){e.addClass($n[t]);for(var r=t;r<4;)e.removeClass($n[r]),++r;n&&n()},400-66*t)}function kt(e,t,n){0!=e.animation&&"none"!=e.preload&&(t.addClass($n[3]),n.on(zt.LOAD_START,function(){Mt(t,2)}),n.on(zt.METADATA,function(){Mt(t,1)}),n.on(zt.CAN_PLAY,function(){Mt(t,0)}))}function Dt(e,t,n){if(!ie.from_token(e.token).is_granted(ie.permissions.NO_METERING)){var r=Q.id(e.token);if(r){var o=function(e){403===e.status&&n.emit(zt.NON_RECOVERABLE_ERROR,{reason:"token",details:"The token online validation failed"})},i=xt.bind(null,r,o);n.one(zt.PLAYING,i)}}}function xt(e,t){var n={token_id:e,factor:1,rnd:Math.random().toString(36).substring(2)},r=new XMLHttpRequest,o=JSON.stringify(n);r.timeout=2500,r.open("POST",splayer.METERING_URL||"https://pmi.splayer.com/in",!0),r.send(o),r.addEventListener("load",t.bind(null,r))}var Pt=[].slice,Ut=Object.freeze({noop:e,safe:t,extend:n,assign:r,make_path:o,lens:i,put:a,get:u,zero_pad:s,prettyTime:l,toArray:c,box:f,as_bool:d}),Gt="",Ft=" ",Vt=Array.isArray,Yt="undefined"!=typeof window&&m(window),Kt="undefined"!=typeof document&&m(document),Wt=["span","a","em","p","i"],Ht=Wt.concat(["div","strong","video","img","ol","ul","li","script"]);h.window=Yt,h.document=Kt,h.el=v,Ht.forEach(function(e){h[e]=function(t,n){return"string"==typeof t&&(t={class:t}),v(e,t,n)}});var qt=[],jt=Object.freeze({instances:qt,playing:y}),zt={MOUNT:"mount",ERROR:"error",CONTEXT_MENU:"contextmenu",CLICK:"click",DBL_CLICK:"dblclick",KEYUP:"keyup",KEYDOWN:"keydown",LOAD:"load",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_MOVE:"mousemove",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_ENTER:"fullscreenenter",FULLSCREEN_EXIT:"fullscreenexit",FULLSCREEN_CHANGE:"fullscreenchange",METADATA:"loadedmetadata",DATA:"loadeddata",PROGRESS:"progress",TIME_UPDATE:"timeupdate",LOAD_START:"loadstart",VOLUME_CHANGE:"volumechange",PAUSE:"pause",PLAYING:"playing",WAITING:"waiting",CAN_PLAY:"canplay",ENDED:"ended",SEEKED:"seeked",SEEKING:"seeking",DURATION_CHANGE:"durationchange",CUEPOINTS:"cuepoints",CUEPOINT_START:"cuepointstart",CUEPOINT_END:"cuepointend",VIEW_ENTER:"viewenter",VIEW_LEAVE:"viewleave",SOURCE:"src",RECOVER:"recover",REAP:"reap",CONFIG:"config",QUALITIES:"qualities",SET_QUALITY:"quality:set",NON_RECOVERABLE_ERROR:"error:fatal"},Bt={FULLSCREEN:"is-fullscreen",PLAYING:"is-playing",PAUSED:"is-paused",MUTED:"is-muted",LOADED:"is-loaded",LOADING:"is-loading",STARTING:"is-starting",SEEKING:"is-seeking",GRABBING:"is-grabbing",DISABLED:"is-disabled",SMALL:"is-small",TINY:"is-tiny",RTL:"is-rtl",ENDED:"is-ended",LIVE:"is-live",ERRORED:"is-error",WAITING:"is-waiting",AUTOPLAY:"is-autoplay",SEAMLESS:"is-seamless",NO_AUTOPLAY:"no-autoplay",TOGGLING:"is-toggling",LIVE_SEEKED:"is-live-seeked",NO_DVR:"no-timeline"};h.window&&h.window.on([zt.LOAD,zt.RESIZE],function(){qt.forEach(function(e){var t=e.root;t.prevWidth!=t.clientWidth&&(e.emit(zt.RESIZE),t.prevWidth=t.clientWidth)})});var Xt=.5625;h.window&&h.window.on(zt.SCROLL,function(){qt.forEach(I)});var Jt=[C,N,L],Zt=["loop","muted","preload","autoplay"],Qt=["complete","interactive","loaded"],$t=["localhost","127.0.0.1","0.0.0.0","s.codepen.io"];z.check_whitelist=function(e){return!0};var en="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";B.prototype=new Error,B.prototype.name="InvalidCharacterError"
;var tn="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||X,nn=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return J(t)}catch(e){return tn(t)}};Z.prototype=new Error,Z.prototype.name="InvalidTokenError";var rn=function(e,t){if("string"!=typeof e)throw new Z("Invalid token specified");t=t||{};var n=!0===t.header?0:1;try{return JSON.parse(nn(e.split(".")[n]))}catch(e){throw new Z("Invalid token specified: "+e.message)}},on=Z;rn.InvalidTokenError=on,Q.validate=function(e){if("string"==typeof e&&(e=new Q(e)),!e||!e.raw){if(z.check_whitelist(window.location.hostname))return!0;throw new Error("No token provided in configuration")}if(!e.valid_jwt)throw new Error("Invalid token provided");var t=window.location.hostname,n=z.bind(null,t);if(e.data.domain&&e.data.domain.length&&!e.data.domain.some(n))throw new Error("Domain not allowed");if(1e3*e.exp-Date.now()<0)throw new Error("Expired token");return!0},Q.id=function(e){if(e)return"string"==typeof e&&(e=new Q(e)),e.data.id};var an=function(){var e=H(),t=e.splayer?e.splayer:{extensions:[]};return Array.isArray(t.extensions)||(t.extensions=[]),t}();an.extensions.forEach(function(e){Jt.push(e)}),r($,an),function(e){e.version="1.2.4",e.commit="653dc14624faf9aa0c5126b430b8fe17087c8fbc",e.Players=jt,e.instances=qt,e.extensions=Jt,e.loaders=b,e.support=A,e.events=zt,e.states=Bt,e.mq=h,e.util=Ut,e.observable=m,e.Reaper=M}($);var un=["siteGroupId","siteId","id","created","sessionId","position"],sn=["siteGroupId","siteId","id","playerId","playerVersion","sessionId","deviceInfo","created","source","category"],ln={3:!0,5:!0,7:!0,9:!0},cn=function(){return te(Array(16)).reduce(function(e,t,n){var r=(t+256).toString(16).substr(1);return e+(ln[n]?"-":"")+r},"")}(),fn="(min-width: 1200px)",dn="(min-width: 600px)",pn="(max-width: 599px)",mn=function(){if("undefined"==typeof window)return"";var e={type:"desktop"};return"matchMedia"in window?window.matchMedia(fn).matches?ne(e):(A().android&&(e.platform="android"),A().ios&&(e.platform="ios"),window.matchMedia(dn).matches?(e.type="tablet",ne(e)):window.matchMedia(pn).matches?(e.type="mobile",ne(e)):ne(e)):ne(e)}(),vn=Object.freeze({ADS:2,ANALYTICS:4,NO_METERING:8});ie.of=ie,ie.from_token=function(e){var t=new Q(e,{require_valid_token:!0});return ie.of(t.data.acl)},ie.permissions=vn;var En=100,gn=1e3,hn=1/6*gn,yn={vod:{ping:re("vod","ping"),display:re("vod","display"),view:re("vod","view")},live:{ping:re("live","ping"),display:re("live","display"),view:re("live","view")},ad:{request:re("adrequest"),event:re("adevent")}},_n={left:5,right:5},An=function(t,n,r){An=e;var o=t.live?yn.live:yn.vod;o.display(pe(sn,n.payload));var i=function(){o.view(pe(sn,n.payload))};return r.played.length>0?i():r.one(zt.PLAYING,i),t.live?de(r,n,o):ce(r,n,o)},wn=zt.LANDSCAPE="landscape",Cn=zt.PORTRAIT="portrait";"undefined"!=typeof window&&window.matchMedia&&[wn,Cn].forEach(ve);var Sn=zt.TOUCH_END="touchend",Nn=Bt.TOUCHED="is-touched",Tn=Bt.IS_TOUCH_DEVICE="is-touch-device",In=h.document,Ln=new function(){function t(){this.getItem=this.removeItem=this.setItem=e}function n(){try{return window.localStorage||new t}catch(e){return new t}}function r(e,t){var r=n();return function(){try{return r[e].apply(r,arguments)}catch(e){return t}}}this.removeItem=r("removeItem"),this.getItem=r("getItem",null),this.setItem=r("setItem")},bn={coords:"-1 -2 40 30",name:"sp-fullscreen",link:"#sp-fs"},On={coords:"-1 -2 40 30",name:"sp-fullscreen-exit",link:"#sp-exit"},Rn={coords:"-2 -2 50 50",name:"sp-play",link:"#sp-play"},Mn={coords:Rn.coords,name:"sp-pause",link:"#sp-pause"},kn={coords:Rn.coords,name:"sp-play sp-play-stroke",link:"#sp-play-stroke"},Dn={coords:Rn.coords,name:"sp-pause sp-pause-stroke",link:"#sp-pause-stroke"},xn={coords:Rn.coords,name:"sp-play sp-play-circle",link:"#sp-play-circle"},Pn=Dn,Un={coords:"-2 -2 36 58",link:"#sp-volume"},Gn={coords:"-2 -2 50 50",link:"#sp-play",name:"sp-small-play"},Fn={coords:"-2 -2 50 50",link:"#sp-pause",name:"sp-small-pause"},Vn=Object.freeze({ENTER_FULLSCREEN:bn,EXIT_FULLSCREEN:On,PLAY_1:Rn,PAUSE_1:Mn,PLAY_2:kn,PAUSE_2:Dn,PLAY_3:xn,PAUSE_3:Pn,VOLUME:Un,SMALL_PLAY:Gn,SMALL_PAUSE:Fn}),Yn="function"==typeof Audio&&new Audio||{},Kn="volume",Wn="mute";Yn.volume=.1,Ne.inject_bar=Ie,Ne.Tick=Le,Le.on=function(e){e.addClass("sp-color")},Le.off=function(e){e.removeClass("sp-color")},Ne.extend_volume_slider=be,function(){function e(e){qt.forEach(function(t){t.root!==e&&t.in_fullscreen&&t.emit(zt.FULLSCREEN_EXIT)})}var t=h.document;if(t){t.on("webkitfullscreenchange mozfullscreenchange MSFullscreenChange msfullscreenchange",function(){t.emit(zt.FULLSCREEN_CHANGE,t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement)});var n=Element.prototype;n.requestFullScreen||["webkit","moz","ms"].forEach(function(e){var r=n[e+"RequestFullScreen"]||n.msRequestFullscreen,o=t[e+"CancelFullScreen"]||t.msExitFullscreen;r&&(n.requestFullScreen=r,t.fullscreenEnabled=!0),o&&(t.exitFullScreen=o)}),t.on(zt.FULLSCREEN_CHANGE,function(t){e(t.data||t.target)})}}();var Hn=[1,2,3],qn="function"==typeof requestAnimationFrame?requestAnimationFrame:setTimeout,jn=h.div,zn=h.span,Bn=Object.freeze({tooltip_offset:Ke,buffer_update:We,progress:He,loadedmetadata:qe,timeupdate:je,timeline_repaint:ze,timeline_mouse_move:Be,timeline_grab_start:Xe,timeline_grab_moved:Je,timeline_grab_end:Ze,recover:Qe,timeline_mouse_enter:$e,timeline_mouse_leave:et,tooltip_update:tt}),Xn=10,Jn=Object.freeze({invert_percent:nt,live_head:rt,is_dvr:ot,live_tail:it,seekable_range:at,live_waypoint:ut,seconds_in_past:st,time_watched:lt,seconds_from_head:ct,progress:ft,timeupdate:dt,loadedmetadata:pt,timeline_repaint:mt,tooltip_update:vt,seek_to_now:Et,buffer_update:gt,timeline_grab_start:ht,recover:yt,timeline_grab_moved:_t,timeline_grab_end:At,timeline_mouse_move:wt,timeline_mouse_leave:Ct}),Zn={vod:Bn,live:Jn},Qn="use-play-",$n={0:"is-loading-0",1:"is-loading-1",2:"is-loading-2",3:"is-loading-3"};return function(e){if("undefined"==typeof document||~Qt.indexOf(document.readyState))return e();document.addEventListener("DOMContentLoaded",e)}(function(){Ce("<svg id='sp-icons' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><defs><path id='FS' d='M1 9V1h12'/><path id='sp-play-button' d='M19.201 4.78l18.546 30.001a2.001 2.001 0 0 1-1.707 3.052H-1.046a2 2 0 0 1-1.701-3.052l18.545-30a2 2 0 0 1 3.403 0' transform='rotate(90 20 25.4)'/><g id='sp-pause-lines'><rect class='sp-rect' x='8.5' y='5' width='11' height='36'/><rect class='sp-rect' x='26.5' y='5' width='11' height='36'/></g></defs><g id='sp-play' class='sp-fill'><use xlink:href='#sp-play-button'></use></g><g id='sp-play-circle' class='sp-fill'><circle cx='22.9' cy='22.9' r='23.5' class='sp-thin-stroke' fill='none'/><use xlink:href='#sp-play-button' transform='translate(11.5, 9.8) scale(.57)'></use></g><g id='sp-play-stroke' fill='none' class='sp-thin-stroke'><use xlink:href='#sp-play-button'></use></g><g id='sp-pause' class='sp-fill'><use xlink:href='#sp-pause-lines'></use></g><g id='sp-pause-stroke' fill='none' class='sp-thin-stroke'><use xlink:href='#sp-pause-lines'></use></g><g id='sp-volume' class='sp-fill'><path class='sp-rect' d='M0 15h30v24H0z'/><path d='M1 27L31 0v54z'/></g><g id='sp-fs' fill='none' class='sp-thin-stroke'><use xlink:href='#FS'/><use xlink:href='#FS' transform='matrix(1 0 0 -1 0 26)'/><use xlink:href='#FS' transform='matrix(-1 0 0 1 36 0)'/><use xlink:href='#FS' transform='rotate(180 18 13)'/></g><g id='sp-exit' fill='none' class='sp-thin-stroke'><use xlink:href='#FS' transform='translate(22 17)'/><use xlink:href='#FS' transform='matrix(-1 0 0 1 13 17)'/><use xlink:href='#FS' transform='rotate(180 6.5 4.5)'/><use xlink:href='#FS' transform='matrix(1 0 0 -1 22 9)'/></g></svg>")}),$(me,Rt,kt,he,Dt),$.volume=Ne,$.storage=Ln,$});
